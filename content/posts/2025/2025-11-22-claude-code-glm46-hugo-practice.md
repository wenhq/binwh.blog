---
title: Claude Code与GLM-4.6模型的小实践：修改Hugo博客的内容宽度
slug: claude-code-glm46-hugo-practice
date: 2025-11-22T18:24:27+08:00
author: wenhq
description: 使用Claude Code配合GLM-4.6大模型，实践修改Hugo博客PaperMod主题页面宽度的完整过程
draft: false
share: true
---

> 本文记录了使用Claude Code配合智谱GLM-4.6大模型的配置，以及修改Hugo博客页面宽度的过程，从环境配置到实战操作的分享。

## 背景介绍

近年来，国产大语言模型发展迅速，智谱AI的GLc系列模型凭借出色的表现受到了广泛关注。GLM-4.6作为智谱推出的重要版本，在代码生成、逻辑推理等方面都有着优异的表现。与此同时，Anthropic推出的Claude Code为开发者提供了强大的AI辅助编程能力。

本文将结合这两个工具，以一个实际的Hugo博客样式修改为例，展示如何利用国产大模型提升开发效率。

## 认识 GLM-4.6 和智谱AI

### 智谱AI与GLM系列

智谱AI是中国领先的人工智能公司，专注于大语言模型研发。GLM（General Language Model）系列是智谱AI开发的大语言模型产品线，具有以下特点：

#### GLM-4.6 核心特性
- **强大的代码能力**：支持多种编程语言的代码生成、理解和优化
- **中文优势**：作为国产模型，对中文的理解和生成更加自然
- **逻辑推理**：在复杂问题分析和解决方案提供方面表现突出
- **多模态支持**：支持文本、图像等多种输入输出形式
- **成本效益**：相比国外模型，使用成本更具优势

#### 适用场景
- 软件开发与代码编写
- 技术文档撰写与优化
- 问题分析与解决方案设计
- 中文内容创作与编辑

### Claude Code + GLM-4.6 的组合优势

将Claude Code的工具有效性与GLM-4.6的智能能力结合，可以：
- 获得更好的中文交互体验
- 降低使用成本
- 保持高效的开发工作流
- 支持本地化部署需求

## 第一部分：环境配置与准备

### 1. Claude Code安装配置

#### 在VS Code中安装Claude Code插件
1. 打开VS Code
2. 在扩展商店搜索"Claude Code"
3. 安装Anthropic官方的Claude Code扩展，需要认准Anthropic官方。
4. 重启VS Code

#### 配置GLM-4.6模型
创建或编辑Claude Code配置文件：

**位置**: `~/.claude/config.json`

```json
{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "your-glm-api-key",
    "ANTHROPIC_BASE_URL": "https://open.bigmodel.cn/api/anthropic",
    "ANTHROPIC_DEFAULT_HAIKU_MODEL":"glm-4.5-air",
    "ANTHROPIC_DEFAULT_OPUS_MODEL":"glm-4.6",
    "ANTHROPIC_DEFAULT_SONNET_MODEL":"glm-4.6"
  },
  "MCP_TOOL_TIMEOUT": "30000",
  "permissions": {
    "defaultMode": "bypassPermissions"
  }
}
```

### 2. 获取智谱API密钥

1. 访问[智谱AI开放平台](https://open.bigmodel.cn/)
2. 注册并完成实名认证
3. 在控制台创建API密钥
4. 充值相应额度（通常有免费额度供测试）

### 3. 配置验证

完成配置后，我们需要验证设置是否正确。打开 VS Code，点击右上角的 Claude Code 图标启动对话界面。

#### 验证版本信息
在对话中输入以下命令查看版本：
```bash
claude --version
```
正常情况下会显示类似 `2.0.50 (Claude Code)` 的版本信息。

#### 验证模型配置
接着询问当前使用的模型：
```
你现在用的是哪个模型？
```

如果配置正确，应该收到类似以下的回复：
```
我现在使用的是 GLM-4.6 模型。通过你更新的配置可以看到，Claude Code现在被配置为使用智谱AI的GLM模型系列：
- Haiku模型映射到 glm-4.5-air
- Opus和Sonnet模型都映射到 glm-4.6

所以我当前运行的是智谱AI的GLM-4.6大模型，这也是你文章中重点介绍和实战使用的那个模型。
```

看到这样的回复，说明GLM-4.6模型已经成功配置并可以正常使用了。接下来就可以开始我们的实战项目了。


## 第二部分：小试牛刀 - 博客页面内容宽度调整

### 1. 项目背景

我的个人博客基于Hugo静态站点生成器，使用PaperMod主题。在使用过程中发现默认的页面宽度对于某些内容展示来说略显狭窄，需要进行调整。但是我对前端技术不是很了解，因此一直没有进行修改。

### 2. 项目结构分析

#### 使用Claude Code探索项目结构
```
用户: 请分析这个Hugo项目的结构，帮我找到控制页面宽度的关键文件

Claude (GLM-4.6):
正在分析项目结构...
发现关键文件：
- assets/css/extended/blank.css (用户自定义样式文件)
- themes/PaperMod/assets/css/core/theme-vars.css (主题核心变量)
- config/_default/params.toml (Hugo配置文件)
```

#### CSS变量系统解析
```
用户: 解释PaperMod主题的CSS变量系统

Claude (GLM-4.6):
PaperMod使用CSS变量控制布局：
- --main-width: 720px (主要内容区域宽度)
- --nav-width: 1024px (导航栏最大宽度)
- --gap: 24px (页面边距和元素间距)

实际内容区域计算公式：
calc(720px + 24px * 2) = 768px
```

### 3. 智能分析与建议

#### AI分析现状
```
用户: 我想让页面内容更宽一些，有什么建议？

Claude (GLM-4.6):
基于对您的项目分析，我建议采用渐进式调整策略：

1. 内容宽度调整：
   --main-width: 从720px调整到840px (+120px)
   --nav-width: 从1024px调整到1200px (+176px)

2. 边距优化：
   --gap: 从24px调整到28px (+4px，提升视觉舒适度)

3. 响应式考虑：
   保持移动端768px断点不变
   在小屏幕下适当减小边距

建议在assets/css/extended/blank.css中实现这些修改，避免直接修改主题文件。
```

#### 自动生成CSS代码
```
用户: 请帮我生成具体的CSS代码

Claude (GLM-4.6):
我为您生成以下CSS代码，添加到assets/css/extended/blank.css：

:root {
    /* 调整主内容区域宽度，提升阅读体验 */
    --main-width: 840px;
    /* 适应更宽的导航栏 */
    --nav-width: 1200px;
    /* 适当增加边距，提升视觉效果 */
    --gap: 28px;
}

/* 移动设备优化 */
@media screen and (max-width: 768px) {
    :root {
        /* 移动端减小边距，充分利用屏幕空间 */
        --gap: 16px;
    }
}

/* 平板设备优化 */
@media screen and (min-width: 769px) and (max-width: 1024px) {
    :root {
        --gap: 20px;
    }
}
```

### 4. 测试验证

#### AI辅助测试流程
```
用户: 如何测试修改效果？

Claude (GLM-4.6):
建议按以下步骤测试：

1. 启动开发服务器：
   hugo server -D

2. 本地测试：
   - 访问 http://localhost:1313
   - 使用浏览器开发者工具模拟不同屏幕尺寸
   - 测试移动端、平板和桌面端显示效果

3. 重点检查项：
   - 文章页面内容显示
   - 代码块和图片的适配
   - 导航菜单响应式表现
   - 移动端触摸体验

4. 性能验证：
   - 检查页面加载速度
   - 验证CSS渲染性能
```

#### 问题诊断与解决
```
用户: 测试中发现移动端文字过长，有什么解决方案？

Claude (GLM-4.6):
分析问题：移动端文字过长可能由以下原因造成：

1. 内容宽度超出屏幕边界
2. 代码块或表格没有正确响应式处理
3. 图片尺寸问题

建议解决方案：
- 在CSS中添加max-width: 100%限制
- 为代码块添加水平滚动
- 使用overflow-wrap: break-word处理长单词

需要我帮您生成对应的CSS修复代码吗？
```

## 第三部分：GLM-4.6 使用体验

### 1. 模型表现评估

#### 优势特点
- **中文理解准确**：对技术术语和中文表达的理解更加精准
- **代码质量高**：生成的CSS代码符合最佳实践
- **逻辑清晰**：分析问题的思路清晰，解决方案实用
- **响应速度快**：API调用响应时间稳定

#### 实际表现
在本项目中的GLM-4.6表现出色：
- 准确识别了Hugo项目的文件结构
- 正确分析了PaperMod主题的CSS变量系统
- 生成的CSS代码质量高，符合响应式设计原则
- 提供的问题诊断和解决方案切实可行

### 2. 成本效益分析

#### 使用成本
- **API费用**：相比国外大模型，GLM-4.6的使用成本更加亲民
- **响应速度**：国内服务器访问延迟更低
- **稳定性**：服务稳定可靠，适合生产环境使用

#### 效果对比
| 指标 | GLM-4.6 | 国外模型 |
|------|---------|----------|
| 中文理解 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 代码质量 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 响应速度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| 使用成本 | ⭐⭐⭐⭐⭐ | ⭐⭐ |

## 结语

通过本次实践，我深刻体会到GLM-4.6与Claude Code结合使用的强大能力。国产大模型在中文环境和开发场景下的表现确实令人惊喜，不仅理解准确，而且生成的代码质量很高。

对于国内开发者来说，选择国产大模型具有明显优势：
- 更好的中文理解和表达能力
- 更低的网络延迟和使用成本
- 更符合国内开发习惯和使用场景
- 数据安全和合规性更有保障

随着国产AI技术的不断发展，相信未来会有更多优秀的工具和服务涌现，为开发者提供更好的体验。

---

## 💡 体验推荐

如果你也想尝试使用智谱的大模型产品，可以通过以下链接了解更多：

🚀 **[智谱AI开放平台](https://www.bigmodel.cn/claude-code?ic=XIUSJ4VJHF)**

智谱GLM系列模型在Claude Code、Cline等10+主流编程工具中都有良好支持，如果你在寻找高性价比的AI辅助编程方案，值得一试。作为国产大模型的代表，GLM在中文理解和代码生成方面都有不错的表现。